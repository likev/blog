<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> C++程序配置类库 · HanDong's Blog</title><meta name="description" content="C++程序配置类库 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://twitter.com/likev" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/likev" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">C++程序配置类库</h1><div class="post-time">Mar 7, 2012</div><div class="post-content"><h3 id="一、INI文件读取库"><a href="#一、INI文件读取库" class="headerlink" title="一、INI文件读取库"></a>一、INI文件读取库</h3><p>除了使用Windows提供的API函数(见<a href="http://grow.sinaapp.com/?p=988" target="_blank" rel="external">之前文章</a>介绍)和<a href="http://www.boost.org" target="_blank" rel="external">Boost</a>、<a href="http://qt.nokia.com/products/" target="_blank" rel="external">QT</a>、<a href="http://www.wxwidgets.org/" target="_blank" rel="external">wxWidgets</a>等类库提供的配置函数外，还可以使用下面的类库：</p>
<h4 id="1-SimpleIni-code-jellycan-com-simpleini"><a href="#1-SimpleIni-code-jellycan-com-simpleini" class="headerlink" title="1.SimpleIni(code.jellycan.com/simpleini/)"></a>1.SimpleIni(<a href="http://code.jellycan.com/simpleini/" target="_blank" rel="external">code.jellycan.com/simpleini/</a>)</h4><p>一个跨平台的类库，提供简单的API读写INI文件，支持ASCII, MBCS and Unicode文件格式。开源，使用MIT协议。<br>使用方法：</p>
<pre lang="cpp">
    CSimpleIniA ini;
    ini.SetUnicode();
    ini.LoadFile("myfile.ini");
    const char * pVal = ini.GetValue("section", "key", "default");
    ini.SetValue("section", "key", "newvalue");
</pre>

<h4 id="2-RudeConfig-rudeserver-com-config-index-html"><a href="#2-RudeConfig-rudeserver-com-config-index-html" class="headerlink" title="2.RudeConfig(rudeserver.com/config/index.html)"></a>2.RudeConfig(<a href="http://rudeserver.com/config/index.html" target="_blank" rel="external">rudeserver.com/config/index.html</a>)</h4><pre lang="cpp">
    // Create config object
    //
    Config config;

    // load a configuration/.ini file
    //
    config.load("myfile.ini");

    // read information
    //
    config.setSection("General Info");
    double cost = config.getDoubleValue("Cost");
    const char *company = config.getStringValue("Company Name");

    // create information
    //
    config.setSection("new section");
    config.setStringValue("animal type", "giraffe");
    config.setBoolValue("mammal", true);

    // save changes
    //
    config.save();
</pre>

<h4 id="3-minIni-code-google-com-p-minini"><a href="#3-minIni-code-google-com-p-minini" class="headerlink" title="3.minIni(code.google.com/p/minini/)"></a>3.minIni(<a href="http://code.google.com/p/minini/" target="_blank" rel="external">code.google.com/p/minini/</a>)</h4><p>minIni是一个在嵌入式系统中使用的读取INI文件库。minIni占用极少资源，可以为各种文件IO库配置。</p>
<h3 id="二、XML文件读取库"><a href="#二、XML文件读取库" class="headerlink" title="二、XML文件读取库"></a>二、XML文件读取库</h3><h4 id="1-TinyXML-2-grinninglizard-com-tinyxml2docs"><a href="#1-TinyXML-2-grinninglizard-com-tinyxml2docs" class="headerlink" title="1.TinyXML-2(grinninglizard.com/tinyxml2docs)"></a>1.TinyXML-2(<a href="http://www.grinninglizard.com/tinyxml2docs/index.html" target="_blank" rel="external">grinninglizard.com/tinyxml2docs</a>)</h4><p>如名字所示，是简单的XML文件读取库，并且是第二版。仅包含一个.h文件和一个.cpp文件，直接和自己的源代码一起编译即可使用。</p>
<h3 id="三、序列化文件-类似JSON格式-读取库"><a href="#三、序列化文件-类似JSON格式-读取库" class="headerlink" title="三、序列化文件(类似JSON格式)读取库"></a>三、序列化文件(类似JSON格式)读取库</h3><h4 id="1-libconfig-hyperrealm-com-libconfig"><a href="#1-libconfig-hyperrealm-com-libconfig" class="headerlink" title="1.libconfig(hyperrealm.com/libconfig/)"></a>1.libconfig(<a href="http://www.hyperrealm.com/libconfig/" target="_blank" rel="external">hyperrealm.com/libconfig/</a>)</h4><p>Libconfig是一个简单的用来处理结构化配置文件的库，像这样的文件：<a href="http://www.hyperrealm.com/libconfig/test.cfg.txt" target="_blank" rel="external">test.cfg</a>。这种文件格式比XML更紧凑易读。不像XML，它是可识别类型的，所以在程序代码中不必做字符串解析。</p>
<pre lang="cpp">
    int var1;
    double var2;
    const char *var3;

    if(config.lookupValue("values.var1", var1)
     && config.lookupValue("values.var2", var2)
     && config.lookupValue("values.var3", var3))
    {
    // use var1, var2, var3
    }
    else
    {
    // error handling here
    }
</pre></div></article></div></section><footer><div class="paginator"><a href="/2012/03/07/windows-e4-b8-8b-e7-bc-96-e8-af-91-e5-92-8c-e5-ae-89-e8-a3-85boost-e5-ba-93/" class="prev">PRVE</a><a href="/2012/02/21/e7-a7-91-e5-ad-a6-e5-ae-b6-e9-83-a8-e7-bd-b2-e6-bf-80-e5-85-89-e5-99-a8-e3-80-81gps-e6-8a-80-e6-9c-af-e6-9d-a5-e6-94-b9-e5-96-84-e9-99-8d-e9-9b-aa-e6-b5-8b-e9-87-8f/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.tianqi.at">John Doe</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>