<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Windows下编译和安装Boost库的指定模块 · HanDong's Blog</title><meta name="description" content="Windows下编译和安装Boost库的指定模块 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://twitter.com/likev" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/likev" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Windows下编译和安装Boost库的指定模块</h1><div class="post-time">Mar 7, 2012</div><div class="post-content"><p>当然你可以使用<a href="http://www.boostpro.com/download/" target="_blank" rel="external">www.boostpro.com</a>提供的安装工具来安装，免去以下的步骤。但是那会安装许多不必要的文件，占用大量磁盘空间，有可能使你更迷惑。可参见<a href="http://blog.csdn.net/akof1314/article/details/6292980" target="_blank" rel="external">这篇文章</a>。</p>
<p>如果你想了解如何一步步编译安装Boost库，请接着往下读。</p>
<p>一、到官网(<a href="http://www.boost.org" target="_blank" rel="external">www.boost.org</a>)下载最新版Boost并解压到任意目录<br>先来看一下解压后的目录结构，以$BOOST_ROOT代表你Boost所在的目录</p>
<pre>
**$BOOST_ROOT****\** ................._boost 根目录_
   **index.htm** ........._A copy of www.boost.org starts here_
   **boost****\** ........................._所有的Boost头文件_
   **libs****\** ............_各种库的测试用例，文档说明。可以在这个文件夹中查看各种库怎么使用_
     **index.html** ........_库文档从这里开始_
     **algorithm****\**
     **any****\**
     **array****\**
                     _…更多的库…_
   **status****\** ........................._Boost范围测试套件_
   **tools****\** ..........._一些有用工具, 比如 Boost.Build, quickbook, bcp_
   **more****\** .........................._政策等其它文档._
   **doc****\** ..............._所有Boost库文档的子集_
</pre>

<p>二、编译需要的库<br>首先要说明的是大多数Boost库现在<strong>已经可以使用</strong>了，直接包含boost目录下相应的头文件即可，并不需要编译安装。</p>
<p>以下是必须编译安装的Boost库：</p>
<ul>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/filesystem/index.html" target="_blank" rel="external">Boost.Filesystem</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/graph_parallel/index.html" target="_blank" rel="external">Boost.GraphParallel</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/iostreams/index.html" target="_blank" rel="external">Boost.IOStreams</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/mpi/index.html" target="_blank" rel="external">Boost.MPI</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/program_options/index.html" target="_blank" rel="external">Boost.ProgramOptions</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/python/doc/building.html" target="_blank" rel="external">Boost.Python</a> (see the <a href="http://www.boost.org/doc/libs/1_49_0/libs/python/doc/building.html" target="_blank" rel="external">Boost.Python build documentation</a><br>before building and installing it)</li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/regex/index.html" target="_blank" rel="external">Boost.Regex</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/serialization/index.html" target="_blank" rel="external">Boost.Serialization</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/signals/index.html" target="_blank" rel="external">Boost.Signals</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/system/index.html" target="_blank" rel="external">Boost.System</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/doc/html/thread.html" target="_blank" rel="external">Boost.Thread</a></li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/wave/index.html" target="_blank" rel="external">Boost.Wave</a></li>
</ul>
<p>以下库拥有可选的编译组件(也就是说如果你要使用它们中的某些功能，则需要单独编译安装)</p>
<ul>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/date_time/index.html" target="_blank" rel="external">Boost.DateTime</a> 当你使用它的 <tt class="docutils literal">to_string</tt>/<tt class="docutils literal">from_string</tt> 或者序列化特性, 或者目标平台为 Visual C++ 6.x 或 Borland.</li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/graph/index.html" target="_blank" rel="external">Boost.Graph</a> 仅仅当你想 <a href="http://www.boost.org/doc/libs/1_49_0/libs/graph/doc/read_graphviz.html" target="_blank" rel="external">处理 GraphViz 文件</a>.</li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/math/index.html" target="_blank" rel="external">Boost.Math</a> 含有TR1 和 C99 cmath 函数二进制组件.</li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/random/index.html" target="_blank" rel="external">Boost.Random</a> 当你使用 <tt class="docutils literal">random_device</tt>.</li>
<li><a href="http://www.boost.org/doc/libs/1_49_0/libs/test/index.html" target="_blank" rel="external">Boost.Test</a> 可以 “header-only” 或 “separately compiled”<br>模式使用, 尽管 <strong>对于郑重使用时推荐单独编译</strong>.</li>
</ul>
<p>如果要编译上面的库，首先打开命令行，转到$BOOST_ROOT目录并运行目录下的bootstrap.bat脚本，这个脚本为Boost.Build系统的运行准备环境。</p>
<p><pre lang="cmd"><br>bootstrap.bat<br></pre><br>可以看到现在$BOOST_ROOT目录下有b2.exe和bjam.exe两个可执行文件。这两个文件是一样的，只是名字不同，它们可以调用Boost.Build系统来创建上面那些需要编译安装的库。</p>
<p>比如我们想单独编译安装regex库，运行下面的命令即可</p>
<p><pre lang="cmd"><br>bjam stage –with-regex link=static threading=multi runtime-link=static<br></pre><br>下面介绍相关参数的含义：<br>stage 仅创建和安装库文件(不创建头文件),可以用 –stagedir=<stagedir> 选项指定库的安装位置，默认安装在当前目录下的stage文件夹内。<br>  –with-<library> 创建和安装指定的库，如果使用了这个选项，则仅仅指定的库被创建，其它库不被创建。如果不指定这个选项，默认创建所有需要编译安装的库。<br>link=static指定生成静态regex库<br>threading=multi指定生成多线程库<br>runtime-link=static指定链接静态C和C++ 运行库</library></stagedir></p>
<p>其他选项可参见<a href="http://www.cnblogs.com/wondering/archive/2009/05/21/boost_setup.html" target="_blank" rel="external">这篇文章</a></p>
<p>三、配置开发环境<br>打开Visual Studio，在 工具-&gt;选项-&gt;项目和解决方案-&gt;VC++目录 条目下配置Boost包含文件和库文件目录，这样以后就不用每次都要配置Boost目录。</p>
</div></article></div></section><footer><div class="paginator"><a href="/2012/03/13/boost-e4-b8-ad-e7-9a-84regex-e7-b1-bb-e5-ba-93-e5-b0-86-e9-83-a8-e5-88-86-e4-b8-ad-e6-96-87-e8-af-86-e5-88-ab-e4-b8-ba-e7-a9-ba-e7-99-bd-e5-ad-97-e7-ac-a6-e7-9a-84-e9-97-ae-e9-a2-98-e5-8e-9f-e5-9b-a0/" class="prev">上一篇</a><a href="/2012/03/07/c-e7-a8-8b-e5-ba-8f-e9-85-8d-e7-bd-ae-e7-b1-bb-e5-ba-93/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.tianqi.at">John Doe</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>