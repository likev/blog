<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> C++ 继承类调用父类的函数 · HanDong's Blog</title><meta name="description" content="C++ 继承类调用父类的函数 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://twitter.com/likev" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/likev" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">C++ 继承类调用父类的函数</h1><div class="post-time">Dec 15, 2010</div><div class="post-content"><p>代码如下所示：</p>
<pre lang="cpp">
#include &lt;iostream&gt;

class A
{
protected:
    int m;

public:
   A(){ m = 0; }
   void put()
   {
       add();
       std::cout&lt;&lt;m&lt;&lt;std::endl;
   }

   void add()
   {
        m += 1;
   }
};

class B:public A
{
public:
    void add()
    {
         m += 2;
    }
};

int main()
{
    A a ;
    B b ;
    a.put();
    b.put();
}
</pre>

<p>编译后运行结果是什么呢， 1   1  还是1   2呢？</p>
<p>正确答案是1     1，类B继承自A，执行 b.put() 时实际上是运行了A::put()，所以会调用 A::add() 而不是 B::add();</p>
</div></article></div></section><footer><div class="paginator"><a href="/2010/12/15/wxwidgets-e4-b8-ad-e5-ae-9a-e6-97-b6-e5-99-a8wxtimer-e7-9a-84-e4-bd-bf-e7-94-a8/" class="prev">上一篇</a><a href="/2010/10/26/e6-b4-9b-e9-98-b3-e4-b8-80-e5-b9-b4-e4-b8-ad-e6-97-a5-e5-b9-b3-e5-9d-87-e6-b8-a9-e5-ba-a6-e7-9a-84-e5-8f-98-e5-8c-96/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.tianqi.at">John Doe</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>