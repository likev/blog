<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 关于编程中double类型的比较 · HanDong's Blog</title><meta name="description" content="关于编程中double类型的比较 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://twitter.com/likev" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/likev" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">关于编程中double类型的比较</h1><div class="post-time">Aug 27, 2010</div><div class="post-content"><p>相信很多人编程的时候都会像下面这样比较两个double类型吧：</p>
<pre lang="cpp">
double a=1/2, b=0.5;

if(abs(a-b)<1e-6) {="" cout<<"a="=b";" }="" <="" pre="">

<p>当然这个是可以的，但是为什么不直接用 if(a==b) 这样子呢，因为书上好像说过不能直接用等号比较double类型，因为double在计算过程中有精度损失。</p>
<p>其实是我们理解错了，书上说的是在复杂的计算过程后，比如 double result = 3/7/5<em>7</em>5，在这之后,resule == 3 可能不一定成立，因为result可能等于2.999999999。但是如果我们仅仅是比较两个简单的double类型，那么完全可以用等号（==），比如 最开始的if表达式可以写成if(a==b),这样没有任何问题的。假如a==b不能比较，那a&gt;b,a&lt;b等也不能比较了，显然不是这样的。</p>
</1e-6)></pre></div></article></div></section><footer><div class="paginator"><a href="/2010/08/28/ubuntu-e5-ae-89-e8-a3-85-e5-b0-8f-e8-ae-b0/" class="prev">PRVE</a><a href="/2010/08/24/e6-96-87-e4-bb-b6-e4-b8-8a-e4-bc-a0/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.tianqi.at">John Doe</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>