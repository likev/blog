<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>  怎样从文本文件执行SQL语句 · HanDong's Blog</title><meta name="description" content=" 怎样从文本文件执行SQL语句 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/html5-audio-player/" target="_self" class="nav-list-link">MUSIC</a></li><li class="nav-list-item"><a href="https://twitter.com/likev" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/likev" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title"> 怎样从文本文件执行SQL语句</h1><div class="post-time">Aug 20, 2011</div><div class="post-content"><p>mysql客户程序一般交互使用：</p>
<p>shell&gt; mysql db_name</p>
<p>如果你需要在命令行上指定连接参数，命令应为：</p>
<p>shell&gt; mysql -h host -u user -p &lt; batch-file</p>
<p>Enter password: <strong><em>**</em></strong></p>
<p>还可以将SQL语句放到一个文件中然后告诉mysql从该文件读取输入。要想实现，创建一个文本文件text_file，并包含你想要执行的语句。然后按如下所示调用mysql：</p>
<p><pre lang="mysql"><br>shell&gt; mysql db_name &lt; text_file<br></pre><br>还可以用一个USE db_name语句启动文本文件。在这种情况下，不需要在命令行中指定数据库名：</p>
<p><pre lang="mysql"><br>shell&gt; mysql &lt; text_file<br></pre><br>如果正运行mysql，可以使用source或.命令执行SQL脚本文件：</p>
<p><pre lang="mysql"><br>mysql&gt; source filename</pre></p>
<p>mysql&gt; . filename<br><br>有时想要使用脚本来向用户显示进度信息；为此可以插入下述行：</p>
<p><pre lang="mysql"><br>SELECT ‘<info_to_display>‘ AS ‘ ‘；<br></info_to_display></pre><br>将输出<info_to_display>。</info_to_display></p>
<p>如果你有一个产生多个输出的查询，你可以通过一个分页器而不是盯着它翻屏到屏幕的顶端来运行输出：</p>
<p><pre lang="mysql"><br>             shell&gt; mysql &lt; batch-file | more</pre></p>
<p>//你可以捕捉文件中的输出以便进行进一步的处理：</p>
<pre><code>shell&gt; mysql &lt; batch-file &gt; mysql.out
</code></pre><p><br>原文链接：<a href="http://dev.mysql.com/doc/refman/5.1/zh/client-side-scripts.html#batch-commands" target="_blank" rel="external">client-side-scripts.html#batch-commands</a></p>
</div></article></div></section><footer><div class="paginator"><a href="/2011/08/20/jquery-post-e5-87-bd-e6-95-b0-e7-9a-84-e4-bd-bf-e7-94-a8-e6-96-b9-e6-b3-95/" class="prev">PRVE</a><a href="/2011/08/17/javascript-e4-b8-ad-e7-9a-84-json-e4-b8-8e-e5-af-b9-e8-b1-a1-e7-9a-84-e8-bd-ac-e5-8c-96/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.tianqi.at">John Doe</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>