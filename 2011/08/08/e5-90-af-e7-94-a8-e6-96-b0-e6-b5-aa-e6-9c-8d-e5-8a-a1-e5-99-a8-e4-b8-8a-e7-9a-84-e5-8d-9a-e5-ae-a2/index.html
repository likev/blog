<!DOCTYPE html><html lang="zh-cn,en,default"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 启用新浪服务器上的博客 · HanDong's Blog</title><meta name="description" content="启用新浪服务器上的博客 - HanDong"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/html5-audio-player/" target="_self" class="nav-list-link">MUSIC</a></li><li class="nav-list-item"><a href="https://twitter.com/likev" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/likev" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">启用新浪服务器上的博客</h1><div class="post-time">2011年8月8日</div><div class="post-content"><p>1.修改时区 副标题 顶部图片 评论控制</p>
<p>2.启用一些插件 google分析 防垃圾评论akismet 分享到其他网站addtoany等</p>
<p>3.边栏模板去掉saelogo链接</p>
<p>4.header.php 增加自定义样式</p>
<pre lang="html" line="37">
<link rel="”stylesheet”" type="”text/css”" media="”all”" href="”<?php" bloginfo(="" ‘stylesheet_url’="" );="" ?="">” />
<link href="”<?php" echo="" bloginfo(="" ‘template_url’="" ).’="" diy-style.css’;="" ?="">” type=”text/css” rel=”stylesheet”/>
</pre>
5\. 修改loop.php 让归档和分类目录文件全文显示
<pre lang="php" line="137">
<?php if ( is_search() ) : //is_archive() || is_search() Only display excerpts for archives and search. ?>
</pre>

<p>6.由于不支持php写文件函数，所以不能修改顶部图片，但可以自行上传至指定目录</p>
<p>/wp-content/themes/twentyten/images/headers/</p>
<p>分别上传940px × 198px concave.jpg和230px × 48px concave-thumbnail.jpg文件</p>
<p>7.使用svn添加1g-music插件</p>
<p>8.使用文本小工具添加top100音乐列表</p>
<p>9.修改wp-codebox.php 27和28行</p>
<pre lang="php" line="27">    include_once ABSPATH ."wp-config.php";
    include_once ABSPATH ."wp-settings.php";</pre>

<p>10.修改评论部分的代码及样式 /wp-includes/comment-template.php </p>
<pre lang="php" line="1521">
    $fields =  array(
        'author' => '<div class="comment-form-author"><div class="respond-label">' . '<label for="author">' . __( 'Name' ) . '</label> ' . ( $req ? '<span class="required">*</span>' : '' ) .
                    '</div><input id="author" name="author" type="text" value="' . esc_attr( $commenter['comment_author'] ) . '" size="30" '="" .="" $aria_req="" (="" $req="" ?="" required="required" :="" ''="" )=""></div>',
        'email'  => '<div class="comment-form-email"><div class="respond-label"><label for="email">' . __( 'Email' ) . '</label> ' . ( $req ? '<span class="required">*</span>' : '' ) .
                    '</div><input id="email" name="email" type="text" value="' . esc_attr(  $commenter['comment_author_email'] ) . '" size="30" '="" .="" $aria_req="" (="" $req="" ?="" required="required" :="" ''="" )=""></div>',
        'url'    => '<div class="comment-form-url"><div class="respond-label"><label for="url">' . __( 'Website' ) . '</label>' .
                    '</div><input id="url" name="url" type="text" value="' . esc_attr( $commenter['comment_author_url'] ) . '" size="30"></div>',
    );

    $required_text = sprintf( ' ' . __('Required fields are marked %s'), '<span class="required">*</span>' );
    $defaults = array(
        'fields'               => apply_filters( 'comment_form_default_fields', $fields ),
        'comment_field'        => '<div class="comment-form-comment"><div class="respond-label"><label for="comment">' . _x( 'Comment', 'noun' ) . '</label></div><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true" required="required"></textarea></div>',

</pre>

<p>11.添加wp-pagenavi插件和related-posts插件<br>修改loop.php和loop-single.php使插件生效</p>
</div></article></div></section><footer><div class="paginator"><a href="/2011/08/09/win7-e5-b8-82-e5-8e-bf-e5-b9-b3-e5-8f-b0-e5-ae-89-e8-a3-85/" class="prev">上一篇</a><a href="/2011/05/06/jquery-e8-8e-b7-e5-8f-96window-e3-80-81document-e3-80-81dom-e5-85-83-e7-b4-a0-e7-9a-84-e9-ab-98-e5-ba-a6-e5-92-8c-e5-ae-bd-e5-ba-a6-e5-87-bd-e6-95-b0-e5-88-86-e6-9e-90/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.tianqitu.net">HanDong</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>