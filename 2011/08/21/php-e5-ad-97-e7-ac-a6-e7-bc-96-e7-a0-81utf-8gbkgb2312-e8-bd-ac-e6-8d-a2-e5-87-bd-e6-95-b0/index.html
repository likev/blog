<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> php 字符编码(utf-8,gbk,gb2312)转换函数 · HanDong's Blog</title><meta name="description" content="php 字符编码(utf-8,gbk,gb2312)转换函数 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://twitter.com/likev" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/likev" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">php 字符编码(utf-8,gbk,gb2312)转换函数</h1><div class="post-time">Aug 21, 2011</div><div class="post-content"><h3 id="php中有两个函数可以完成字符编码的转换"><a href="#php中有两个函数可以完成字符编码的转换" class="headerlink" title="php中有两个函数可以完成字符编码的转换"></a>php中有两个函数可以完成字符编码的转换</h3><h4 id="1-iconv函数"><a href="#1-iconv函数" class="headerlink" title="1. iconv函数"></a>1. iconv函数</h4><p>函数原型：string iconv ( string $in_charset , string $out_charset , string $str )<br>说明：此函数为php默认支持的，不需要安装其他模块，而且速度较快，推荐使用。<br>一些问题：当字符串中包含中文字符<strong>——</strong>(中文输入法下 shift+减号键)时此函数会舍弃此符号及之后的字符</p>
<h4 id="2-mb-convert-encoding函数"><a href="#2-mb-convert-encoding函数" class="headerlink" title="2. mb_convert_encoding函数"></a>2. mb_convert_encoding函数</h4><p>函数原型：string mb_convert_encoding ( string $str , string $to_encoding [, mixed $from_encoding ] )<br>说明：此函数需要启用 mbstring 扩展库( 在 php.ini里将 ;extension=php_mbstring.dll  前面的 ; 去掉)<br>一些问题：当php文件自身编码为UTF-8(含BOM)时，转换后的字符串开头有错误的字符。所以php文件一定要以UTF-8(无BOM)格式编码</p>
<p>示例：将字符串从UTF-8编码转换为GB2312编码</p>
<pre lang="php">
header("Content-type: text/html; charset=gb2312");

$str = "abcde 今天是个好天气";

echo mb_convert_encoding($str,"gb2312","UTF-8");

echo '
';

echo iconv("UTF-8", "gb2312", $str);
</pre></div></article></div></section><footer><div class="paginator"><a href="/2011/08/25/e5-a4-a9-e6-b0-94-e5-88-86-e6-9e-90-2/" class="prev">PRVE</a><a href="/2011/08/21/e9-a2-84-e6-8a-a5-e5-88-86-e6-9e-90-2/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.tianqi.at">John Doe</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>