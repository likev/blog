<!DOCTYPE html><html lang="zh-cn,en,default"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 在XP及Ubuntu上快速安装及配置LAMP(Linux+Apache+Mysql+Php/Perl/Python)环境 · HanDong's Blog</title><meta name="description" content="在XP及Ubuntu上快速安装及配置LAMP(Linux+Apache+Mysql+Php/Perl/Python)环境 - HanDong"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/html5-audio-player/" target="_self" class="nav-list-link">MUSIC</a></li><li class="nav-list-item"><a href="https://twitter.com/likev" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/likev" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">在XP及Ubuntu上快速安装及配置LAMP(Linux+Apache+Mysql+Php/Perl/Python)环境</h1><div class="post-time">2011年8月10日</div><div class="post-content"><h3 id="Ubuntu-快速安装LAMP环境及配置方法："><a href="#Ubuntu-快速安装LAMP环境及配置方法：" class="headerlink" title="Ubuntu 快速安装LAMP环境及配置方法："></a>Ubuntu 快速安装LAMP环境及配置方法：</h3><hr>
<p>一、安装LAMP环境<br>在终端输入以下命令(是的，你没看错，只用一条命令即可)</p>
<pre lang="cmd">
sudo apt-get install apache2 mysql-server mysql-client php5 php5-gd php5-mysql
</pre>
安装过程中会要求你设置MySQL的帐户root密码，暂时可以直接回车，不设置密码

二、配置LAMP环境
Apache2默认安装在/etc/apache2目录下
打开用户配置文件：
<pre lang="cmd">
sudo gedit /etc/apache2/httpd.conf
</pre>

<p>添加下面的一行来启用php文件类型支持：</p>
<pre lang="apache">
AddType application/x-httpd-php .php .php5
</pre>
至此LAMP已可以正常运行 网站目录默认在 /var/www

三、其他可选配置
1>apache 的配置文件路径 /etc/apache2/httpd.conf
2>php.ini 路径 /etc/php5/apache2/php.ini
3>mysql配置文件 路径 /etc/mysql/my.cnf
4>phpmyadmin配置文件路径 /etc/phpmyadmin/apache.conf
5>网站根目录配置文件路径 /etc/apache2/sites-enabled

* * *

* * *

* * *

### XP 快速安装LAMP环境及配置方法：

* * *

一 安装及配置Apache

1.打开网页 选择合适的版本下载
http://httpd.apache.org/download.cgi

2.xp下双击安装包，直接安装
ubuntu下安装说明见 [apache.org/docs/2.2/install.html](http://httpd.apache.org/docs/2.2/install.html)

3.打开conf/httpd.conf  进行配置
<pre lang="apache" line="179">
#配置网站所在的文件夹
DocumentRoot "D:/webdocs"
</pre>
<pre lang="apache" line="206">
#配置网站文件夹的属性
<directory "d:="" webdocs"="">

   #当文件不存在时不要列出目录中的文件列表
    Options -Indexes FollowSymLinks

    #
    # AllowOverride controls what directives may be placed in .htaccess files.
    # It can be "All", "None", or any combination of the keywords:
    #   Options FileInfo AuthConfig Limit
    #
    AllowOverride None

    #
    # 控制对此目录的访问权限
    #
    Order allow,deny
    Allow from all

</directory>
</pre>

<p>二 安装及配置Mysql<br>Ubuntu下安装过程见此文 <a href="http://forum.ubuntu.org.cn/viewtopic.php?t=330121" target="_blank" rel="external">ubuntu 10.04 MySQL 5.5.11 源代码编译安装</a><br>XP下可直接下载安装包</p>
<p>三 安装及配置PHP</p>
<p>1.下载 the PHP zip binary distribution from <a href="http://windows.php.net/download/" target="_blank" rel="external">» PHP for Windows: Binaries and Sources</a>.</p>
<p>选择 VC6 x86 Thread Safe 版本</p>
<p>2. 直接解压后放在softs文件夹下即可</p>
<p>3. 在安装目录中另存 php.ini-production 为 php.ini 并进行配置</p>
<pre><code>a.设置模块目录并开启需要的模块
</code></pre><pre lang="ini" line="541">
; Directory in which the loadable extensions (modules) reside.
; 此项设置模块所在的目录，注意如果path变量没有设置php安装目录时
; 此项一定要设置为绝对目录，否则Apache将无法正确加载php扩展模块
extension_dir = "D:/softs/php-5.2.17/ext/"
</pre>
以上设置不正确时将会出现类似下述错误信息
<pre lang="cmd">
PHP Warning:  PHP Startup: Unable to load dynamic library './ext/php_bz2.dll' - \xd5\xd2\xb2\xbb\xb5\xbd\xd6\xb8\xb6\xa8\xb5\xc4\xc4\xa3\xbf\xe9\xa1\xa3\r\n in Unknown on line 0
PHP Warning:  PHP Startup: Unable to load dynamic library './ext/php_curl.dll' - \xd5\xd2\xb2\xbb\xb5\xbd\xd6\xb8\xb6\xa8\xb5\xc4\xc4\xa3\xbf\xe9\xa1\xa3\r\n in Unknown on line 0
</pre>

<pre><code>b.设置可最大上传文件的大小和默认时区等选项
</code></pre><pre lang="ini">
[Date]
; Defines the default timezone used by the date functions
date.timezone = Asia/Chongqing
</pre>

<p>4.打开apache 的 conf/httpd.conf  进行配置</p>
<pre lang="apache" line="130">
# 让apache自动在每次启动时加载php模块. apache2.2 版本需要加载php5apache2_2.dll
LoadModule php5_module "D:/softs/php-5.2.17/php5apache2_2.dll"
AddHandler application/x-httpd-php .php

# 配置 php.ini 文件所在路径
PHPIniDir "D:/softs/php-5.2.17"
</pre>

<p>5.重启计算机</p>
<hr>
<p>今天调试网页时发现apache服务器经常自动重启，打开error.log文件后发现下述信息</p>
<p>[Sat Aug 20 19:43:25 2011] [notice] Parent: child process exited with status <strong>3221225477</strong> – Restarting</p>
<p>在网上查找一番后发现原因是php文件中包含了数据库查询语句，而apache调用了与当前版本不一致的<strong>libmysql.dll</strong> 所致。<br>由于安装的mysql 数据库是早期版本，在安装mysql后程序自动设定<strong>mysql安装目录</strong>为<strong>PATH</strong>环境变量。mysql安装目录下含有版本不一致的libmysql.dll 文件，apache调用了那个不合适的文件后产生错误。</p>
<p>而在安装php时并没有将php目录设定为PATH环境变量。</p>
<p>解决办法：删除mysql安装目录里面的libmysql.dll 文件，然后将php安装目录设置为PATH环境变量即可。</p>
</div></article></div></section><footer><div class="paginator"><a href="/2011/08/10/e9-9b-a8-e9-87-8f-e6-8a-a5-e8-ad-a6-e7-bd-91-e9-a1-b5-e4-bf-ae-e6-94-b9/" class="prev">上一篇</a><a href="/2011/08/10/e5-b1-80-e5-9c-b0-e5-9b-9e-e6-b3-a2/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.tianqi.at">HanDong</a>, unless otherwise noted.</p></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>